"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[560],{3560:function(s,e,n){n.r(e);var r=n(9439),t=n(1413),c=n(7482),i=n(4294),a=n(493),o=n(2791),Z=n(5021),h=n(9900),u=n(4721),l=n(4554),d=n(1355),x=n(7621),j=n(9504),S=n(9585),f=n(4454),T=n(5351),g=n(4070),R=n(890),p=n(914),A=n(184),k=(0,o.forwardRef)((function(s,e){return(0,A.jsx)(g.Z,(0,t.Z)({elevation:1,ref:e,variant:"filled"},s))}));e.default=function(s){var e=s.user,n=(0,o.useState)(null),t=(0,r.Z)(n,2),g=t[0],v=t[1],G=(0,o.useState)((null===g||void 0===g?void 0:g.rights)||0),I=(0,r.Z)(G,2),m=I[0],C=I[1],H=(0,o.useState)(0),w=(0,r.Z)(H,2),P=w[0],y=(w[1],(0,o.useState)(!1)),b=(0,r.Z)(y,2),N=b[0],O=b[1],U=new URLSearchParams(window.location.search).get("id");(0,o.useState)((function(){U&&d.Z.getUser(U).then((function(s){v(s),C(s.rights)}))}),[U,P]);var D=(0,o.useCallback)((function(){d.Z.updateUser({id:U,rights:m}).then((function(s){v(s),C(s.rights),O(!0),setTimeout((function(){return O(!1)}),2e3)}))}),[U,m]);return g?!1===d.Z.hasAccess(e.rights,d.Z.RIGHTS.GRANT)?(0,A.jsx)("h1",{children:"Access Denied"}):(0,A.jsx)(l.Z,{children:(0,A.jsxs)(x.Z,{children:[(0,A.jsx)(S.Z,{title:g.username,action:(0,A.jsx)(i.Z,{variant:"contained",onClick:D,children:"Save"})}),(0,A.jsxs)(j.Z,{children:[(0,A.jsx)(R.Z,{variant:"h6",component:"div",children:"Rights"}),(0,A.jsx)(u.Z,{}),(0,A.jsxs)(a.Z,{children:[(0,A.jsxs)(Z.ZP,{children:[(0,A.jsx)(h.Z,{primary:"Task Rights"}),(0,A.jsx)(f.Z,{sx:{cursor:"pointer"},disabled:!0,checked:d.Z.hasAccess(m,d.Z.RIGHTS.TASK)})]}),(0,A.jsxs)(Z.ZP,{children:[(0,A.jsx)(h.Z,{primary:"Topic Rights"}),(0,A.jsx)(f.Z,{sx:{cursor:"pointer"},checked:d.Z.hasAccess(m,d.Z.RIGHTS.TOPIC),onClick:function(){return C(d.Z.toggleAccess(m,d.Z.RIGHTS.TOPIC))}})]}),(0,A.jsxs)(Z.ZP,{children:[(0,A.jsx)(h.Z,{primary:"Stats Rights"}),(0,A.jsx)(f.Z,{sx:{cursor:"pointer"},checked:d.Z.hasAccess(m,d.Z.RIGHTS.STATS),onClick:function(){return C(d.Z.toggleAccess(m,d.Z.RIGHTS.STATS))}})]}),(0,A.jsxs)(Z.ZP,{children:[(0,A.jsx)(h.Z,{primary:"Grant Rights"}),(0,A.jsx)(f.Z,{sx:{cursor:"pointer"},checked:d.Z.hasAccess(m,d.Z.RIGHTS.GRANT),onClick:function(){return C(d.Z.toggleAccess(m,d.Z.RIGHTS.GRANT))}})]})]}),(0,A.jsx)(T.Z,{open:N,autoHideDuration:6e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,A.jsx)(k,{severity:"success",sx:{width:"100%"},children:"Saved Successfully"})}),(0,A.jsx)(p.Z,{})]})]})}):(0,A.jsx)(c.Z,{})}}}]);
//# sourceMappingURL=560.ac5aaa8c.chunk.js.map