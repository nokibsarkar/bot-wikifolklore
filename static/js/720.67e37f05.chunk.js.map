{"version":3,"file":"static/js/720.67e37f05.chunk.js","mappings":"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","sources":["FnF/Pages/Topics/EditTopic.jsx"],"sourcesContent":["import CategoryList from \"../../components/Category.jsx\";\nimport { createRef, useEffect, useState, useCallback } from \"react\";\nimport Server from \"../../Server.ts\";\nimport Button from '@mui/material/Button';\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport CardHeader from '@mui/material/CardHeader';\nimport React from \"react\";\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport Box from \"@mui/material/Box\"\nimport Typography from \"@mui/material/Typography\"\nimport Collapse from \"@mui/material/Collapse\"\nimport { FormControl, InputLabel, MenuItem, Select } from \"@mui/material\";\nimport Footer from \"../../../Layout/Footer.jsx\";\nconst EditTopic = () => {\n    const [topicID, setTopicID] = useState('');\n    const [country, setCountry] = useState('');\n    const [refreshKey, setRefreshKey] = useState(0);\n    const [categories, setCategories] = useState([]);\n    const [saving, setSaving] = useState(false);\n    const categoryListRef = createRef(null);\n    useEffect(() => {\n        const params = new URLSearchParams(window.location.search);\n        const id = params.get('id');\n        if(!id)\n            return;\n        setTopicID(id);\n        Server.getTopic(id).then(topic => {\n            setCountry(Server.countries[topic.country]);\n            setCategories(topic.categories);\n        })\n    }, [refreshKey]);\n    const save = useCallback(async () => {\n        if(!topicID)\n            return;\n        if(!country)\n            return;\n        const categoryList = categoryListRef?.current;\n        if (!categoryList?.length)\n            return;\n        setSaving(true);\n        const updated = await Server.updateTopic({\n            id: topicID,\n            country: country,\n            categories: categoryList\n        });\n        if (!updated)\n            return;\n        setRefreshKey(refreshKey + 1);\n        setSaving(false);\n    }, [topicID, country, categoryListRef]);\n    const deleteTopic = useCallback(async () => {\n        if(!topicID)\n            return;\n        const deleted = await Server.deleteTopic(topicID);\n        if(!deleted)\n            return;\n        window.location.href = \"/fnf/topic\";\n    }, [topicID]);\n    return <Card>\n        <CardHeader title=\"Edit Topic\" action={<Button variant=\"contained\" color=\"error\" onClick={deleteTopic} disabled={saving}><DeleteIcon /> Delete</Button>} />\n        <CardContent>\n            <Box sx={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"space-between\" }}>\n                <Typography variant=\"subtitle\">Topic ID : {topicID}</Typography>\n                <Typography variant=\"subtitle\">Country : {country}</Typography>\n            </Box>\n            <CategoryList categoryListRef={categoryListRef} disabled={saving} initialCategories={categories} />\n            <Box sx={{ mt : 5, maxWidth : 300,display: \"flex\", flexDirection: \"column\", justifyContent: \"center\" }}>\n                <Button variant=\"contained\" onClick={save} disabled={saving}>Save</Button>\n            </Box>\n            <Footer />\n        </CardContent>\n    </Card>\n}\nexport default EditTopic"],"names":["_useState","useState","_useState2","_slicedToArray","topicID","setTopicID","_useState3","_useState4","country","setCountry","_useState5","_useState6","refreshKey","setRefreshKey","_useState7","_useState8","categories","setCategories","_useState9","_useState10","saving","setSaving","categoryListRef","createRef","useEffect","id","URLSearchParams","window","location","search","get","Server","getTopic","then","topic","countries","save","useCallback","_asyncToGenerator","_regeneratorRuntime","mark","_callee","categoryList","wrap","_context","prev","next","abrupt","current","length","updateTopic","sent","stop","deleteTopic","_callee2","_context2","href","_jsxs","Card","children","_jsx","CardHeader","title","action","Button","variant","color","onClick","disabled","DeleteIcon","CardContent","Box","sx","display","flexDirection","justifyContent","Typography","CategoryList","initialCategories","mt","maxWidth","Footer"],"sourceRoot":""}